# 并查集



### 0x00 基本定义



一个并查集（disjoint-set data structure）用于维护一堆不相交的集合$\mathcal{S} = \{S_1,\cdots,S_k\}$.  其中$S_i$表示第$i$集合的一个代表元，它是这个集合里面任意一个成员. 



在并查集上主要3个操作， 其中$x$表示一个==元素对象==. 

1.  make-set(x)  新建一个集合，这个集合只包含$x$.   因为集合之间是不相交，所以$x$只会存在于这个新建的集合中.
2.  union(x,y)  合并$x$和$y$各自所在的集合组成一个新的集合.  此时会消除集合$S_x$和$S_y$. 
3.  find-set(x) 返回一个指针，这个指针指向包含$x$的集合代表. 



### 0x01 不相交集合的链表表示



链表表示的特点:

1. 每一个集合内的对象$x$，用一个单链表串起来，其中每个单链表结点中还多一个指向==集合对象==的指针$x.head$. 
2. 集合对象$S_i$包含一个head属性和tail属性，head属性指向链表的第一元素，tail指向链表的最后一个对象。

在上述构造下，此时的$x$就是单链表的一个结点:

1. make-set(x) 创建一个集合对象和只有一个结点的单链表即可，只需要$O(1)$的时间.  
2. find-set(x)  直接访问$x.head$即可，只需要$O(1)$的时间.  
3. union(x,y)  直接将$y$所在的单链表拼接到$x$所在的单链表，同时需要更新$S_x.tail$和新拼进来链表结点$y.head$，并且删除$S_y$.  这过程所花费的时间需要与$y$所在链表的长度呈线性关系. 

  

